<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="dalu.css">
    <script src="dalu.js"></script>
    <link rel="shortcut icon" href="agendamento.ico" type="image/x-icon">
    <title>Sistema de Agendamento - Dalu</title>
</head>
<body>
    <div class="container" id="mainContainer">
        <!-- Navigation -->
        <div class="nav-buttons">
            <button class="nav-btn active" onclick="showSection('booking')">ğŸ’… Agendar</button>
            <button class="nav-btn" onclick="showSection('manage')">ğŸ“‹ Meus Agendamentos</button>
            <button class="nav-btn" onclick="showSection('admin')">ğŸ‘©â€ğŸ’¼ Admin</button>
        </div>

        <!-- Booking Section -->
        <div class="section active" id="bookingSection">
            <div class="header">
                <h1><span class="emoji">ğŸ’…</span>AGENDE SEU HORÃRIO</h1>
                <p>Preencha os dados abaixo para agendar seu atendimento</p>
            </div>

            <form id="appointmentForm">
                <div class="form-group">
                    <label><span class="emoji">ğŸ‘¤</span>Nome Completo</label>
                    <input type="text" class="form-control" name="name" required placeholder="Digite seu nome completo">
                </div>

                <div class="form-group">
                    <label><span class="emoji">ğŸ“±</span>WhatsApp</label>
                    <input type="tel" class="form-control" name="phone" required placeholder="(11) 99999-9999">
                </div>

                <div class="form-group">
                    <label><span class="emoji">ğŸ“…</span>Data Preferida</label>
                    <input type="date" class="form-control" name="date" required min="" onchange="loadAvailableTimes()">
                </div>

                <div class="form-group">
                    <label><span class="emoji">ğŸ•</span>HorÃ¡rios DisponÃ­veis</label>
                    <div id="timeSlots">
                        <p style="color: #6c757d; text-align: center; padding: 20px;">Selecione uma data para ver os horÃ¡rios disponÃ­veis</p>
                    </div>
                    <input type="hidden" name="time" id="selectedTime">
                </div>

                <div class="form-group">
                    <label><span class="emoji">âœ¨</span>ServiÃ§os Desejados (selecione um ou mais)</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" name="services" value="blindagem" data-price="35">
                            <div class="service-info">
                                <span class="service-name">ğŸ’ Blindagem das Unhas</span>
                                <span class="service-price">R$ 35,00</span>
                            </div>
                        </div>
                        
                        <div class="checkbox-item">
                            <input type="checkbox" name="services" value="gel" data-price="45">
                            <div class="service-info">
                                <span class="service-name">âœ¨ Unhas em Gel</span>
                                <span class="service-price">R$ 45,00</span>
                            </div>
                        </div>

                        <div class="checkbox-item">
                            <input type="checkbox" name="services" value="plastica" data-price="40">
                            <div class="service-info">
                                <span class="service-name">ğŸ¦¶ PlÃ¡stica dos PÃ©s</span>
                                <span class="service-price">R$ 40,00</span>
                            </div>
                        </div>

                        <div class="checkbox-item">
                            <input type="checkbox" name="services" value="pedicure" data-price="25">
                            <div class="service-info">
                                <span class="service-name">ğŸ’… Pedicure Tradicional</span>
                                <span class="service-price">R$ 25,00</span>
                            </div>
                        </div>

                        <div class="checkbox-item">
                            <input type="checkbox" name="services" value="manicure" data-price="30">
                            <div class="service-info">
                                <span class="service-name">ğŸ‘ Manicure Tradicional</span>
                                <span class="service-price">R$ 30,00</span>
                            </div>
                        </div>

                        <div class="checkbox-item">
                            <input type="checkbox" name="services" value="decoracao" data-price="15">
                            <div class="service-info">
                                <span class="service-name">ğŸ¨ DecoraÃ§Ã£o de Unha</span>
                                <span class="service-price">R$ 15,00</span>
                            </div>
                        </div>

                        <div class="checkbox-item">
                            <input type="checkbox" name="services" value="combo_completo" data-price="90">
                            <div class="service-info">
                                <span class="service-name">ğŸ‰ Combo Completo (MÃ£os + PÃ©s)</span>
                                <span class="service-price">R$ 90,00 (Desconto especial!)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="total-section" id="totalSection" style="display: none;">
                    <div class="total-title">
                        <span class="emoji">ğŸ’°</span>Total do Agendamento
                    </div>
                    <div class="total-value" id="totalValue">R$ 0,00</div>
                </div>

                <div class="form-group">
                    <label><span class="emoji">ğŸ’¬</span>ObservaÃ§Ãµes (opcional)</label>
                    <textarea class="form-control" name="notes" rows="3" placeholder="Alguma observaÃ§Ã£o especial ou preferÃªncia?"></textarea>
                </div>

                <button type="submit" class="submit-btn">
                    <span class="emoji">ğŸ“¨</span>
                    <span id="btnText">Confirmar Agendamento</span>
                </button>
            </form>

            <div class="success-message" id="successMessage">
                <h3>âœ… Agendamento Confirmado!</h3>
                <p>Seu agendamento foi confirmado com sucesso! VocÃª receberÃ¡ uma confirmaÃ§Ã£o no WhatsApp em breve.</p>
            </div>

            <div class="error-message" id="errorMessage">
                <h3>âŒ Erro no Agendamento</h3>
                <p id="errorText">Ocorreu um erro. Tente novamente.</p>
            </div>
        </div>

        <!-- Client Management Section -->
        <div class="section" id="manageSection">
            <div class="header">
                <h1><span class="emoji">ğŸ“‹</span>MEUS AGENDAMENTOS</h1>
                <p>Consulte e gerencie seus agendamentos</p>
            </div>

            <div class="client-search">
                <div class="form-group">
                    <label><span class="emoji">ğŸ“±</span>Digite seu WhatsApp para consultar</label>
                    <input type="tel" class="form-control" id="searchPhone" placeholder="(11) 99999-9999">
                </div>
                <button type="button" class="submit-btn" onclick="searchClientAppointments()">
                    <span class="emoji">ğŸ”</span>Buscar Meus Agendamentos
                </button>
            </div>

            <div id="clientAppointmentsContainer" style="display: none;">
                <h3 style="margin-bottom: 20px; color: #2c3e50;">ğŸ“… Seus Agendamentos</h3>
                <div id="clientAppointmentsList"></div>
            </div>
        </div>

        <!-- Admin Section -->
        <div class="section" id="adminSection">
            <!-- Login Form -->
            <div id="adminLogin" class="login-form">
                <div class="header">
                    <h1><span class="emoji">ğŸ‘©â€ğŸ’¼</span>PAINEL ADMINISTRATIVO</h1>
                    <p>FaÃ§a login para gerenciar os agendamentos</p>
                </div>

                <div class="form-group">
                    <label><span class="emoji">ğŸ”</span>Senha</label>
                    <input type="password" class="form-control" id="adminPassword" placeholder="Digite a senha de administrador">
                </div>

                <button type="button" class="submit-btn" onclick="adminLogin()">
                    <span class="emoji">ğŸšª</span>Entrar
                </button>
            </div>

            <!-- Admin Dashboard -->
            <div id="adminDashboard" style="display: none;">
                <div class="header">
                    <h1><span class="emoji">ğŸ“Š</span>PAINEL DE CONTROLE</h1>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <p>Gerencie seus agendamentos e finanÃ§as</p>
                        <button class="btn-small btn-cancel" onclick="adminLogout()">Sair</button>
                    </div>
                </div>

                <!-- Statistics -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalAppointments">0</div>
                        <div class="stat-label">Total de Agendamentos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="todayAppointments">0</div>
                        <div class="stat-label">Hoje</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="pendingAppointments">0</div>
                        <div class="stat-label">Pendentes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="monthlyRevenue">R$ 0</div>
                        <div class="stat-label">Receita do MÃªs</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="completedServices">0</div>
                        <div class="stat-label">ServiÃ§os ConcluÃ­dos</div>
                    </div>
                </div>

                <!-- Revenue Details -->
                <div class="revenue-details">
                    <h3 style="margin-bottom: 15px; color: #333;">ğŸ’° Detalhes Financeiros do MÃªs</h3>
                    <div class="revenue-grid">
                        <div class="revenue-item confirmed">
                            <strong style="color: #28a745;">Receita Confirmada</strong>
                            <div id="confirmedRevenue" style="font-size: 1.2em; margin-top: 5px;">R$ 0,00</div>
                        </div>
                        <div class="revenue-item pending">
                            <strong style="color: #856404;">Receita Pendente</strong>
                            <div id="pendingRevenue" style="font-size: 1.2em; margin-top: 5px;">R$ 0,00</div>
                        </div>
                        <div class="revenue-item cancelled">
                            <strong style="color: #dc3545;">Receita Perdida</strong>
                            <div id="cancelledRevenue" style="font-size: 1.2em; margin-top: 5px;">R$ 0,00</div>
                        </div>
                    </div>
                </div>

                <!-- Appointments List -->
                <div id="appointmentsList">
                    <h3 style="margin-bottom: 20px;">ğŸ“… Agendamentos</h3>
                    <div id="appointmentsContainer">
                        <p style="text-align: center; color: #6c757d; padding: 40px;">Nenhum agendamento encontrado</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
